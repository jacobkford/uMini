@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<hr class="d-lg-none"/>
<ul class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
{
    <li class="nav-item">
        <div class="dropdown">
            <a class="nav-link" 
                id="userDropDownMenu"
                data-mdb-toggle="dropdown"
                role="button"
                aria-expanded="false"
            >
                <span class="px-1"><i class="fas fa-user-circle fa-lg"></i></span> @User.Identity?.Name
            </a>
            <ul 
                class="dropdown-menu dropdown-menu-end dropdown-menu-arrow" 
                aria-labelledby="userDropDownMenu"
            >
                <li>
                    <a 
                        class="dropdown-item" 
                        asp-area="Identity" 
                        asp-controller="Manage" 
                        asp-action="ChangePassword" 
                        title="Manage" 
                        role="button"
                    >
                        Change Password
                    </a>                   
                </li>
                <li>
                    <form 
                        asp-area="Identity" 
                        asp-controller="Account" 
                        asp-action="Logout" 
                        asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
                    >
                        <button type="submit" class="dropdown-item">Logout</button>
                    </form>
                </li>
            </ul>
        </div>
    </li>
}
else
{
    <li class="nav-item">
        <a 
            class="nav-link" 
            asp-area="Identity" 
            asp-controller="Account" 
            asp-action="Register"
        >
            Register
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" asp-area="Identity" asp-controller="Account" asp-action="Login">Login</a>
    </li>
}
</ul>
